<!DOCTYPE html>

<!--[if IE 8]>
<html lang="en" class="ie8"> <![endif]-->

<!--[if IE 9]>
<html lang="en" class="ie9"> <![endif]-->

<!--[if !IE]><!-->
<html lang="en"> <!--<![endif]-->

<!-- BEGIN HEAD -->

<head>

    <meta charset="utf-8"/>

    <title>Kafka管理</title>

    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>

    <meta content="" name="description"/>

    <meta content="" name="author"/>

    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link rel="icon" href="media/image/dsg-logo2.png" type="image/x-icon">

    <link href="media/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>

    <link rel="stylesheet" href="media/css/kafka.css" type="text/css">

    <link href="media/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"/>

    <link href="media/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>

    <link href="media/css/font-awesome2.min.css" rel="stylesheet" type="text/css"/>

    <link href="media/css/style-metro.css" rel="stylesheet" type="text/css"/>

    <link href="media/css/style.css" rel="stylesheet" type="text/css"/>

    <link href="media/css/style-responsive.css" rel="stylesheet" type="text/css"/>

    <link href="media/css/default.css" rel="stylesheet" type="text/css" id="style_color"/>

    <link href="media/css/uniform.default.css" rel="stylesheet" type="text/css"/>

    <!-- END GLOBAL MANDATORY STYLES -->

    <!-- BEGIN PAGE LEVEL STYLES -->

    <link rel="stylesheet" type="text/css" href="media/css/select2_metro.css"/>

    <link rel="stylesheet" href="media/css/DT_bootstrap.css"/>

    <!-- END PAGE LEVEL STYLES -->

    <!--
        <link rel="shortcut icon" href="media/image/favicon.ico" />
    -->

    <link rel="stylesheet" type="text/css" href="media/jquery-confirm-master/css/jquery-confirm.css">

    <style type="text/css">
        ul > li {
            list-style-type: none;

        }

    </style>

</head>

<!-- END HEAD -->

<!-- BEGIN BODY -->

<body class="page-header-fixed">

<!-- BEGIN HEADER -->

<div class="header navbar navbar-inverse navbar-fixed-top">

    <!-- BEGIN TOP NAVIGATION BAR -->

    <div class="navbar-inner">

        <div class="container-fluid">

            <!-- BEGIN LOGO -->

            <a class="brand" href="javascript:void(0)">

                <img src="media/image/dsg-logo.png" style="height: 56px;margin-top: -16px;" alt="logo"/>

            </a>

            <!-- END LOGO -->

            <!-- BEGIN RESPONSIVE MENU TOGGLER -->

            <a href="javascript:;" class="btn-navbar collapsed" data-toggle="collapse" data-target=".nav-collapse">

                <img src="media/image/menu-toggler.png" alt=""/>

            </a>


            <!-- END TOP NAVIGATION MENU -->

        </div>

    </div>

    <!-- END TOP NAVIGATION BAR -->

</div>

<!-- END HEADER -->

<!-- BEGIN CONTAINER -->

<div class="page-container row-fluid">

    <!-- BEGIN SIDEBAR -->

    <div class="page-sidebar nav-collapse collapse">

        <!-- BEGIN SIDEBAR MENU -->

        <ul class="page-sidebar-menu">

            <li>

                <!-- BEGIN SIDEBAR TOGGLER BUTTON -->

                <div class="sidebar-toggler hidden-phone"></div>

                <!-- BEGIN SIDEBAR TOGGLER BUTTON -->

            </li>
            <li>

                <a href="javascript:;">

                    <i class="fa fa-wrench fa-fw"></i>

                    <span class="title">操作</span>

                    <span class="arrow "></span>

                </a>

                <ul class="sub-menu">

                    <li >

                        <a href="backup.html">
                            <i class="fa fa-cloud-upload fa-fw"></i>

                            数据导入</a>

                    </li>

                    <li class="">

                        <a href="export.html">

                            <i class="fa fa-cloud-download fa-fw"></i>

                            数据导出</a>

                    </li>

                    <li class="">

                        <a href="synchronization.html">

                            <i class="fa fa-cubes fa-fw"></i>

                            HBase容灾</a>

                    </li>

                </ul>

            </li>
            <li class="active">

                <a href="javascript:;">

                    <i class="fa fa-cog fa-fw"></i>

                    <span class="title">管理</span>

                    <span class="arrow open"></span>

                </a>

                <ul class="sub-menu">

                    <li class="start ">

                        <a href="javascript:;">

                            <i class="fa fa-tasks fa-fw"></i>

                            <span class="title">任务</span>

                            <span class="arrow"></span>

                        </a>

                        <ul class="sub-menu">

                            <li class="">

                                <a href="all_task.html">


                                    数据流任务</a>

                            </li>

                            <li>

                                <a href="synchronization_task.html">


                                    容灾任务</a>

                            </li>

                        </ul>

                    </li>

                    <li class="active">

                        <a href="javascript:;">

                            <i class="fa fa-jsfiddle fa-fw"></i>

                            <span class="title">Kafka</span>

                            <span class="arrow open"></span>

                        </a>

                        <ul class="sub-menu">

                            <li >

                                <a href="add_virtualization.html">

                                    添加Kafka</a>

                            </li>

                            <li class="active">

                                <a href="kafka.html">

                                    Kafka管理</a>

                            </li>

                        </ul>

                    </li>

                    <li class=" ">

                        <a href="#">

                            <i class="fa fa-cube fa-fw"></i>

                            <span class="title">HBase</span>

                            <span class="arrow"></span>


                        </a>
                        <ul class="sub-menu">

                            <li class="">

                                <a href="add_HBase.html">

                                    添加HBase</a>

                            </li>


                            <li class="">

                                <a href="HBase.html">

                                    HBase管理</a>

                            </li>

                        </ul>

                    </li>

                    <li class="">

                        <a href="javascript:;">

                            <i class="fa fa-codepen fa-fw"></i>

                            <span class="title">Zookeeper</span>

                            <span class="arrow "></span>

                        </a>

                        <ul class="sub-menu">

                            <li >

                                <a href="virtualization.html">


                                    Zookeeper管理</a>

                            </li>

                        </ul>

                    </li>


                </ul>

            </li>

            <li>

                <a href="javascript:;">

                    <i class="fa fa-indent fa-fw"></i>

                    <span class="title">数据挖掘</span>

                    <span class="arrow "></span>

                </a>

                <ul class="sub-menu">

                    <li>

                        <a href="add_model.html">

                            <i class="glyphicon glyphicon-plus"></i>

                            任务添加</a>

                    </li>

                    <li>

                        <a href="model.html">

                            <i class="glyphicon glyphicon-cog"></i>

                            任务管理</a>

                    </li>

                </ul>

            </li>

        </ul>

        <!-- END SIDEBAR MENU -->


        <!-- END SIDEBAR MENU -->

    </div>

    <!-- END SIDEBAR -->

    <!-- BEGIN PAGE -->

    <div class="page-content">

        <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->

        <div id="portlet-config" class="modal hide">

            <div class="modal-header">

                <button data-dismiss="modal" class="close" type="button"></button>

                <h3>portlet Settings</h3>

            </div>

            <div class="modal-body">

                <p>Here will be a configuration form</p>

            </div>

        </div>

        <!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->

        <!-- BEGIN PAGE CONTAINER-->

        <div class="container-fluid">

            <!-- BEGIN PAGE HEADER-->

            <div class="row-fluid">

                <div class="span12">

                    <!-- BEGIN STYLE CUSTOMIZER -->

                    <div class="color-panel hidden-phone">

                        <div class="color-mode-icons icon-color"></div>

                        <div class="color-mode-icons icon-color-close"></div>

                        <div class="color-mode">

                            <p>主题颜色</p>

                            <ul class="inline">

                                <li class="color-black current color-default" data-style="default"></li>

                                <li class="color-blue" data-style="blue"></li>

                                <li class="color-brown" data-style="brown"></li>

                                <li class="color-purple" data-style="purple"></li>

                                <li class="color-grey" data-style="grey"></li>

                                <li class="color-white color-light" data-style="light"></li>

                            </ul>

                            <label>

                                <span>布局</span>

                                <select class="layout-option m-wrap small">

                                    <option value="fluid" selected>流布局</option>

                                    <option value="boxed">盒布局</option>

                                </select>

                            </label>


                            <label>

                                <span>工具栏</span>

                                <select class="sidebar-option m-wrap small">

                                    <option value="fixed">自动</option>

                                    <option value="default" selected>默认</option>

                                </select>

                            </label>
                            <label>

                                <span>页头</span>

                                <select class="header-option m-wrap small">

                                    <option value="fixed" selected>固定</option>

                                    <option value="default">默认</option>

                                </select>

                            </label>
                            <label>

                                <span>页脚</span>

                                <select class="footer-option m-wrap small">

                                    <option value="fixed">固定</option>

                                    <option value="default" selected>默认</option>

                                </select>

                            </label>

                        </div>


                    </div>

                    <!-- END BEGIN STYLE CUSTOMIZER -->

                    <!-- BEGIN PAGE TITLE & BREADCRUMB-->

                    <h3 class="page-title">

                        Kafka管理
                        <small>查看/管理Kafka</small>

                    </h3>


                    <!-- END PAGE TITLE & BREADCRUMB-->

                </div>


            </div>

            <!-- END PAGE HEADER-->

            <!-- BEGIN PAGE CONTENT-->

            <div class="row-fluid">

                <div class="span12">

                    <!-- BEGIN EXAMPLE TABLE PORTLET-->

                    <div class="portlet box blue">

                        <div class="portlet-title">

                            <div class="caption"><i class="icon-globe"></i>topic信息</div>

                            <div class="tools">

                                <a href="javascript:;" class="collapse"></a>

                                <a href="javascript:;" class="reload"></a>

                            </div>

                        </div>

                        <div class="portlet-body">

                            <div class="row">

                                <div class="col-md-4">
                                    <h4><i class="icon icon-gift"></i>Zookeeper</h4>
                                    <hr>
                                    <div class="control-group">


                                        <div class="controls">

                                            <div class="iframe">

                                                <div class="black_overlay"></div>

                                                <div class="spinner">
                                                    <div class="bounce1"></div>
                                                    <div class="bounce2"></div>
                                                    <div class="bounce3"></div>
                                                </div>

                                                <ul id="vmware-list">

                                                </ul>

                                            </div>

                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-8" style="width:61%;">

                                    <h4><i class="icon icon-gift"></i>Topic</h4>

                                    <hr>

                                    <div>

                                        <div class="alert alert-info">从左边Zookeeper选择，展现Topic列表</div>


                                        <div class="clearfix hide">

                                            <div class="btn-group">

                                                <button class="btn green" data-toggle="modal" data-target="#myModal" id="creat">

                                                    创建 <i class="icon-plus"></i>

                                                </button>

                                                <button  class="btn red" id="delete_virtcent" disabled>

                                                    删除 <i class="icon-trash"></i>

                                                </button>

                                            </div>


                                        </div>

                                        <div id="table_div" style="display: none">

                                            <table class="table table-striped table-bordered table-hover" id="sample_1">

                                                <thead id="table_refresh">

                                                <tr>

                                                    <th style="width:5px;"></th>

                                                    <th>编号</th>

                                                    <th>名称</th>

                                                </tr>

                                                </thead>

                                                <tbody id="v_tbody">


                                                </tbody>

                                            </table>

                                        </div>

                                    </div>

                                </div>

                            </div>
                        </div>
                        <!-- END EXAMPLE TABLE PORTLET-->

                    </div>

                </div>

                <!-- END PAGE CONTENT-->

            </div>

            <!-- END PAGE CONTAINER-->

        </div>

        <!-- END PAGE -->
    </div>
    </div>

    <!-- END CONTAINER -->

    <!-- BEGIN FOOTER -->

    <div class="footer">

        <div class="footer-inner">

            Copyright 2017-2022 <a href="http://www.dsgdata.com/">www.dsgdata.com</a> 迪思杰 京ICP备05013295号

        </div>

        <div class="footer-tools">

			<span class="go-top">

			<i class="icon-angle-up"></i>

			</span>

        </div>

    </div>

    <!--修改模态框-->
    <!-- 模态框（Modal） -->
    <div class="modal fade hide" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myModalLabel">创建topic</h4>
                </div>

                <form id="modal-form">

                    <div class="modal-body" id="change_vcenter">

                        <div class="control-group">

                            <label class="control-label">Zookeeper<span class="required">*</span></label>

                            <div class="controls">

                                <input type="text" name="zookeeper" id="zookeeper" readonly/>

                            </div>

                        </div>

                        <div class="control-group">

                            <label class="control-label">主题名<span class="required">*</span></label>

                            <div class="controls">

                                <input type="text" name="topicname" id="topicname"/>

                            </div>

                        </div>

                        <div class="control-group">

                            <label class="control-label">分区数量<span class="required">*</span></label>

                            <div class="controls">

                                <input type="number" name="partitions" id="partitions" value="1" min="1"/>

                            </div>

                        </div>

                        <div class="control-group">

                            <label class="control-label">备份数量<span class="required">*</span></label>

                            <div class="controls">

                                <input type="number" name="replicationFactor" id="replicationFactor" value="1" min="1"/>

                            </div>

                        </div>

                        <div class="control-group">

                            <label class="control-label">主题配置<span class="required">*</span></label>

                            <div class="controls">

                                <div class="setSelectP">
                                    <ul class="setSelectPUl">
                                        <li class="InputParentLi clearfix">
                                            <label class="cpLabelInfo" style="position: relative">
                                                <span class="textFirstSpan">cleanup.policy</span>
                                                <p class="cpP">
                                                    这个字符串指明了针对旧日志部分的利用方式；默认方式（"delete"）将会丢弃旧的部分当他们的回收时间或者尺寸限制到达时。”compact“将会进行日志压缩
                                                </p>
                                            </label>
                                            <select name="selectDC" id="selectDC" style="float: right;width: 55.8%;height: 30px;">
                                                <option value="delete">delete</option>
                                                <option value="compact">compact</option>
                                            </select>
                                        </li>
                                        <li class="InputParentLi clearfix">
                                            <label for="drmInput" class="drmLabelInfo" style="position: relative">
                                                <span class="textSpan">delete.retention.ms</span>
                                                <p class="drmP">
                                                    对于压缩日志保留的最长时间，也是客户端消费消息的最长时间，通log.retention.minutes的区别在于一个控制未压缩数据，一个控制压缩后的数据。此项配置可以在topic创建时的置顶参数覆盖
                                                    <span style="color: red">单位：字节</span>
                                                </p>
                                            </label>
                                            <input type="text" id="drmInput" value="86400000" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">

                                        </li>
                                        <!--<li class="InputParentLi clearfix">
                                            <label for="fmInput">flush.messages</label>
                                            <input type="text" id="fmInput">
                                        </li>-->
                                        <li class="InputParentLi clearfix">
                                            <label for="iibInput" class="iibInfoLabel" style="position: relative">
                                                <span class="textSpan">index.interval.bytes</span>
                                                <p class="iibP">
                                                    默认设置保证了我们每4096个字节就对消息添加一个索引，更多的索引使得阅读的消息更加靠近，但是索引规模却会由此增大；一般不需要改变这个选项
                                                </p>
                                            </label>
                                            <input type="text" id="iibInput" value="4096" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">
                                        </li>

                                        <li class="InputParentLi clearfix" >
                                            <label for="mmbInput"  class="mmbInfoLabel" style="position: relative">
                                                <span class="textSpan">max.message.bytes</span>
                                                <p class="mmbP">
                                                    kafka追加消息的最大尺寸。注意如果你增大这个尺寸，你也必须增大你consumer的fetch 尺寸，这样consumer才能fetch到这些最大尺寸的消息。
                                                    <span style="color: red">该项需要限定为数字，数值上限为1048576，单位是bytes（字节）</span>
                                                </p>
                                            </label>
                                            <input type="text" id="mmbInput" value="1000000" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">
                                        </li>
                                        <li class="InputParentLi clearfix">
                                            <label for="mcdrInput" class="mcdrInfoLabel" style="position: relative">
                                                <span class="textSpan">min.cleanable.dirty.ratio</span>
                                                <p class="mcdrP">
                                                    此项配置控制log压缩器试图进行清除日志的频率。默认情况下，将避免清除压缩率超过50%的日志。这个比率避免了最大的空间浪费
                                                    <span style="color: red">该项需要限定为大于0小于1的数字</span>
                                                </p>
                                            </label>
                                            <input type="text" id="mcdrInput" value="0.5" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">
                                        </li>
                                        <li class="InputParentLi clearfix">
                                            <label for="mirInput" class="mirInfoLabel" style="position: relative">
                                                <span class="textSpan">min.insync.replicas</span>
                                                <p class="mirP">
                                                    当producer设置request.required.acks为-1时，min.insync.replicas指定replicas的最小数目（必须确认每一个repica的写数据都是成功的），如果这个数目没有达到，producer会产生异常。
                                                    <span style="color: red">最小副本数，即消息在topic会有多少个副本，必须为整形数字</span>
                                                </p>
                                            </label>
                                            <input type="text" id="mirInput" value="1" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">
                                        </li>
                                        <!--<li class="InputParentLi clearfix">
                                            <label for="rbInput">retention.bytes</label>
                                            <input type="text" id="rbInput">
                                        </li>-->
                                        <li class="InputParentLi clearfix">
                                            <label for="rmInput" class="rmLabelInfo" style="position: relative">
                                                <span class="textSpan">retention.ms</span>
                                                <p class="rmP">
                                                    如果使用“delete”的retention策略，这项配置就是指删除日志前日志保存的时间。<span style="color:red">单位毫秒，需限定为数字，最大值为604800000（7天）</span>
                                                </p>
                                            </label>
                                            <input type="text" id="rmInput"  value = "604800000" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">
                                        </li>
                                        <li class="InputParentLi clearfix">
                                            <label for="sbInput" class="sbLabelInfo" style="position: relative">
                                                <span class="textSpan">segment.bytes</span>
                                                <p class="sbP">
                                                    kafka中log日志是分成一块块存储的，此配置是指log日志划分成块的大小 <span style="color:red">日志块大小，单位字节，需限定为数字，最大值为1073741824（1g）</span>
                                                </p>
                                            </label>
                                            <input type="text" id="sbInput" value="1073741824" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">
                                        </li>
                                        <li class="InputParentLi clearfix">
                                            <label for="sibInput" class="sibLabelInfo" style="position: relative">
                                                <span class="textSpan">segment.index.bytes</span>
                                                <p class="sibP">
                                                    此配置是有关offsets和文件位置之间映射的索引文件的大小；一般不需要修改这个配置;<span style="color:red;">单位：字节</span>
                                                </p>
                                            </label>
                                            <input type="text" id="sibInput" value="10485760" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">
                                        </li>
                                        <li class="InputParentLi clearfix">
                                            <label for="smInput" class="smLabelInfo" style="position: relative">
                                                <span class="textSpan">segment.ms</span>
                                                <p class="smP">
                                                    即使log的分块文件没有达到需要删除、压缩的大小，一旦log 的时间达到这个上限，就会强制新建一个log分块文件;<span style="color:red;">单位毫秒，需限定为数字，最大值为604800000（7天）</span>
                                                </p>
                                            </label>
                                            <input type="text" id="smInput" value="604800000" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">
                                        </li>
                                        <li class="InputParentLi clearfix">
                                            <label for="sjmInput" class="sjmLabelInfo" style="position: relative">
                                                <span class="textSpan">segment.jitter.ms</span>
                                                <p class="sjmP">
                                                    该参数和segment.ms参数有关，即是在segment.ms这个参数的设定的值上下波动幅度，单位毫秒，需限定为数字
                                                </p>
                                            </label>
                                            <input type="text" id="sjmInput" value="0" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'请输入数字') ">
                                        </li>
                                    </ul>
                                </div>

                            </div>

                        </div>



                    </div>
                </form>
                <div class="modal-footer">
                    <button type="button" class="btn red" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn green" id="modal-submit">确认创建</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>

    <!-- /.modal -->

    <!-- END FOOTER -->

    <!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->

    <!-- BEGIN CORE PLUGINS -->

    <script src="media/js/localhost.js" type="text/javascript"></script>

    <script src="media/js-plus-in/jquery-1.10.1.min.js" type="text/javascript"></script>

    <script src="media/js-plus-in/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>

    <!-- IMPORTANT! Load jquery-ui-1.10.1.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->

    <script src="media/js-plus-in/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>

    <script src="media/js-plus-in/bootstrap.min.js" type="text/javascript"></script>

    <!--[if lt IE 9]>

    <script src="media/js-plus-in/excanvas.min.js"></script>

    <script src="media/js-plus-in/respond.min.js"></script>

    <![endif]-->

    <script src="media/js-plus-in/jquery.slimscroll.min.js" type="text/javascript"></script>

    <script src="media/js-plus-in/jquery.blockui.min.js" type="text/javascript"></script>

    <script src="media/js-plus-in/jquery.cookie.min.js" type="text/javascript"></script>

    <script src="media/js-plus-in/jquery.uniform.min.js" type="text/javascript"></script>

    <!-- END CORE PLUGINS -->

    <!-- BEGIN PAGE LEVEL PLUGINS -->

    <script type="text/javascript" src="media/js-plus-in/select2.min.js"></script>

    <script type="text/javascript" src="media/js-plus-in/jquery.dataTable.min.js"></script>

    <script type="text/javascript" src="media/js-plus-in/DT_bootstrap.js"></script>

    <!-- END PAGE LEVEL PLUGINS -->

    <!-- BEGIN PAGE LEVEL SCRIPTS -->

    <script src="media/js-plus-in/app.js"></script>

    <script src="media/js/user_message.js" type="text/javascript"></script>

    <script src="media/js/kafka.js"></script>

    <script src="media/jquery-confirm-master/js/jquery-confirm.js"></script>

    <script src="media/js/dataChange.js"></script>

</body>
<script>
    jQuery(document).ready(function () {
        App.init();
    });
</script>
</html>